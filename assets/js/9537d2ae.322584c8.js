"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8549],{7224:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>s,metadata:()=>r,toc:()=>h});var o=n(5893),i=n(1151);const s={title:"watsonx.gov",sidebar_position:1,description:"How to configure watsonx.gov",custom_edit_url:null},a=void 0,r={id:"Create/Governance/watsonx_gov",title:"watsonx.gov",description:"How to configure watsonx.gov",source:"@site/docs/04-Create/03-Governance/01-watsonx_gov.mdx",sourceDirName:"04-Create/03-Governance",slug:"/Create/Governance/watsonx_gov",permalink:"/solution-unified-virtual-agent/Create/Governance/watsonx_gov",draft:!1,unlisted:!1,editUrl:null,tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"watsonx.gov",sidebar_position:1,description:"How to configure watsonx.gov",custom_edit_url:null},sidebar:"tutorialSidebar",previous:{title:"Watsonx Discovery",permalink:"/solution-unified-virtual-agent/Create/RAG Document Search/Watsonx_Discovery"},next:{title:"RAG Source Links",permalink:"/solution-unified-virtual-agent/Create/Governance/rag_sourcelinks"}},l={},h=[{value:"Overview",id:"overview",level:2},{value:"Steps to Track Models in the watsonx.gov Platform",id:"steps-to-track-models-in-the-watsonxgov-platform",level:2},{value:"Assistant Integration",id:"assistant-integration",level:2},{value:"Create Custom Extension",id:"create-custom-extension",level:3},{value:"Assistant Action Configuration",id:"assistant-action-configuration",level:3},{value:"Retrieve Relevant watsonx.gov Metadata",id:"retrieve-relevant-watsonxgov-metadata",level:3}];function d(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsx)(t.admonition,{type:"warning",children:(0,o.jsxs)(t.p,{children:["Prerequisite: ",(0,o.jsx)(t.a,{href:"/Prepare/Requirements#governance",children:"watsonx.gov Software Requirement"})]})}),"\n",(0,o.jsxs)(t.p,{children:["This portion of the Create tab will walk you through how to create and integrate the watsonx.gov platform with the Orchestrate solutions. That way, you can monitor, track, and update your models in real-time and before deployment. To check out how watsonx.gov adds to the Business Value of this particular use case, visit the\n",(0,o.jsx)(t.a,{href:"/Business%20Overview/Use%20Cases/Governance#overview",children:"Business Use Case"})," tab."]}),"\n",(0,o.jsx)(t.hr,{}),"\n",(0,o.jsx)(t.h2,{id:"steps-to-track-models-in-the-watsonxgov-platform",children:"Steps to Track Models in the watsonx.gov Platform"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:"Save your Prompt Lab as a Prompt Template."}),"\n",(0,o.jsxs)(t.li,{children:["Within the project underneath ",(0,o.jsx)(t.em,{children:"Assets"}),', click on the vertical 3 dots --\x3e "Go to AI Factsheet" button.']}),"\n",(0,o.jsxs)(t.li,{children:['Once your in your AI Factsheet, make sure to click "Track in AI use case" which will allow you to track the model\'s lifecycle from development to deployment.',"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"If you have not created an AI Use Case yet, please do so in order to track this model in your AI Use Case."}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["Now, back in your project underneath ",(0,o.jsx)(t.em,{children:"Assets"}),', please click on the vertical 3 dots again --\x3e "Promote to space" button.',"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["If you do not have a deployment space created yet, please create one on the main watsonx.ai homepage in order to hold all the deployed models that you create.","\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"OPTIONAL: It might be beneficial to create a Pre-Production and a Post-Production deployment for the same model. This is beneficial because at different stages of deployments, there are different metrics unlocked in order to showcase the attributes of the model."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["Now in the Deployment Space underneath the ",(0,o.jsx)(t.em,{children:"Assets"}),' tab, click again on the vertical 3 dots --\x3e "Deploy" button.']}),"\n",(0,o.jsxs)(t.li,{children:["Once you have deployed, the page will bring you to all of your ",(0,o.jsx)(t.em,{children:"Deployments"}),', click into the model that you would like to Evaluate. Next, click on the header "Evaluations" then click the "Evaluate" button. At this point, it is now time to evaluate your models under the ',(0,o.jsx)(t.em,{children:"Evaluate"})," tab, but a pre-requisite is to have some sort of feedback dataset with pre-generated inputs and outputs of what you want your model to spit out in an ideal situation. That way, the model can then evaluate its results against this dataset.","\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"If you do not have this dataset, an easy way to create it is to utilize LLMs to create synthetic data."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(t.li,{children:'Once you have your feedback dataset, once you have clicked the "Evaluate" button, under the header "Select text data," upload your feedback dataset.'}),"\n",(0,o.jsxs)(t.li,{children:["The model will likely take a few minutes to evaluate, but once it has, in the ",(0,o.jsx)(t.em,{children:"Actions"})," tab, feel free to adjust parameters depending on what you feel your model thresholds should be -- each use case requires a different set of thresholds.","\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Also, note that if you set your model to Production, then you will be able to perform a Drift evaluation. This requires another dataset called the payload dataset, which is typically shorter than the feedback one but similarly has synthetic data in it. Drift will track whether or not your model degrades over time."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(t.li,{children:"Once deploying and evaluation the models on the watsonx.ai platform, you will be able to view your models in OpenScale where additional metrics regarding quality and model health will be shared. Within OpenScale, you can also perform various evaluations on your models and readjust thresholds."}),"\n"]}),"\n",(0,o.jsx)(t.hr,{}),"\n",(0,o.jsx)(t.h2,{id:"assistant-integration",children:"Assistant Integration"}),"\n",(0,o.jsx)(t.h3,{id:"create-custom-extension",children:"Create Custom Extension"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:'Within the watsonx Orchestrate instance, navigate to the sidebar and go to the header "AI Assistant Builder"'}),"\n",(0,o.jsx)(t.li,{children:'Once you\'ve entered the AI Assistant Builder, navigate to the sidebar and go to the header "Integrations"'}),"\n",(0,o.jsxs)(t.li,{children:['Under the "Extensions" tab, click on "Build custom extension" so that you can create a custom extension for watsonx.gov in your assistant.',"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Name the extension something descriptive. When it asks for the OpenAPI Spec, you can either create your own OpenAPI Spec, or utilize the one that we provide, located ",(0,o.jsx)(t.a,{href:"https://github.com/ibm-client-engineering/solution-unified-virtual-agent/blob/main/assets/openAPI_specs/watsonx_governance/governance_openapi_spec.json",children:"here"}),"."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:['Once you\'ve created the extension, you need to add it to the assistant by clicking the "Add +" button on the Integrations homepage.',"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Click on Next, then click OAuth authentication. To create an API Key, please go to IBM Cloud at this ",(0,o.jsx)(t.a,{href:"https://cloud.ibm.com/iam/apikeys",children:"link"})," then create a new API key and paste it into where it asks for an API key."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(t.h3,{id:"assistant-action-configuration",children:"Assistant Action Configuration"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:"To then utilize the extension that you've just created, go to the Actions tab on the sidebar of the Assistant. Create a new action for the Assistant where you want to utilize the extension."}),"\n",(0,o.jsxs)(t.li,{children:['Under the step that you want to utilize the extension, in the "And then" section, click on "Use an extension" and choose the extension that you just created. Click on the operation "Get the predictions" and be sure to click on "Apply" for the ',(0,o.jsx)(t.strong,{children:"wml_deployment_id, version, and query text"})," variables.","\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["To get the ",(0,o.jsx)(t.em,{children:"wml_deployment_id"}),', go to your cloud environment, underneath Deployments, click on your Deployment Space, then on the right-hand side where it says "About this deployment," under "Deployment Details," copy the Deployment ID.']}),"\n",(0,o.jsxs)(t.li,{children:["For the ",(0,o.jsx)(t.em,{children:"query_text"})," variable, this should be filled with the input that you want to send to the model."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(t.li,{children:"Congratulations, you've successfully integrated a custom extension!"}),"\n"]}),"\n",(0,o.jsx)(t.h3,{id:"retrieve-relevant-watsonxgov-metadata",children:"Retrieve Relevant watsonx.gov Metadata"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:'Within the watsonx Orchestrate instance, navigate to the sidebar and go to the header "AI Assistant Builder"'}),"\n",(0,o.jsx)(t.li,{children:'Once you\'ve entered the AI Assistant Builder, navigate to the sidebar and go to the header "Assistant"'}),"\n",(0,o.jsx)(t.li,{children:'Go to the action where you utilize the custom extension (the action that you built in the last section). Navigate to the conversation step where you added "Use an extension" then click on "New Step +" to add a step after this extension.'}),"\n",(0,o.jsxs)(t.li,{children:["In that new step, set a new variable to a new expression. Call the new variable anything you want, but something descriptive. In the expression free text space, type in something like this:\n",(0,o.jsx)(t.code,{children:"${step_001_result_1}.body.results[0].generated_text"}),"\n",(0,o.jsx)(t.admonition,{type:"note",children:(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Instead of step_001 though, please replace with the specific step number of the previous step where you called the extension. To find this step number, go to the step before where you called the extension, go to the URL and all the way at the right, it should say the step number. Copy that step number and replace the step_001 with it."}),"\n",(0,o.jsx)(t.li,{children:"Also, make sure to put the step_#_result_1 in curly brackets."}),"\n"]})}),"\n"]}),"\n",(0,o.jsx)(t.li,{children:'Great, now you can use this variable in any of your "Assistant says" sections to depict the model\'s response in the Assistant response.'}),"\n"]})]})}function c(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},1151:(e,t,n)=>{n.d(t,{Z:()=>r,a:()=>a});var o=n(7294);const i={},s=o.createContext(i);function a(e){const t=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),o.createElement(s.Provider,{value:t},e.children)}}}]);